import{_ as C}from"./_plugin-vue_export-helper-c27b6911.js";import{r as d,f as b,o,c as a,a as $,F as p,i as m,j as _,b as z,k as S}from"./index-d8e4b734.js";const I={class:"answesOnImage-wrapper"},k=["src"],A=["onClick"],D=["onClick"],L={__name:"ContentAnswersOnImage",props:["componentData","testStyle"],emits:["switchAnswer"],setup(u,{emit:w}){const r=u,h=e=>{w("switchAnswer",e)},n=(e,s)=>e/105*s,t=d({width:0,height:0}),v=d(null),l=d(null),f=(e,s)=>({position:"absolute",top:`${e.y}%`,left:`${e.x}%`,transform:"translate(-50%, -50%)",width:`${n(e.size,t.value.width)}px`,height:`${n(e.size,t.value.width)}px`,background:s?"green":e.color,hover:{width:`${n(e.size,t.value.width)*1.05}px`,height:`${n(e.size,t.value.width)*1.05}px`}}),x=e=>({position:"absolute",top:`${e.y}%`,left:`${e.x}%`,transform:"translate(-50%, -50%)",width:`${n(e.hitboxSize,t.value.width)}px`,height:`${n(e.hitboxSize,t.value.width)}px`,backgroundColor:`${e.color}55`,borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center",boxSizing:"border-box",cursor:"pointer"}),g=()=>{S(()=>{if(l.value&&l.value.complete){const{width:e,height:s}=l.value.getBoundingClientRect();t.value.width=e,t.value.height=s}})};return b(()=>{g()}),(e,s)=>(o(),a("div",I,[u.componentData.isAnswersOnImage?(o(),a("div",{key:0,class:"image-container",ref_key:"imageContainer",ref:v},[$("img",{src:r.componentData.imagesData.imagesList[0].imageURL,class:"content-image",ref_key:"imageElement",ref:l,onLoad:g},null,40,k),(o(!0),a(p,null,m(r.componentData.answersList,(c,i)=>(o(),a("div",{class:"marker",key:i,style:_(f(c.style,c.isChecked)),onClick:y=>h(i)},null,12,A))),128)),(o(!0),a(p,null,m(r.componentData.answersList,(c,i)=>(o(),a("div",{class:"hitbox",key:i,style:_(x(c.style)),onClick:y=>h(i)},null,12,D))),128))],512)):z("",!0)]))}},E=C(L,[["__scopeId","data-v-da79f8a1"]]);export{E as default};
